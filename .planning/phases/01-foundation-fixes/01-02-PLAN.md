---
phase: 01-foundation-fixes
plan: "02"
type: execute
wave: 1
depends_on: []
files_modified:
  - src/store/gameStore.ts
  - src/store/index.ts
  - src/ui/GameProvider.tsx
  - src/hooks/useGame.ts
  - src/services/gameBridge.ts
  - src/types/game.ts
  - src/types/index.ts
autonomous: true
requirements:
  - FIX-04

must_haves:
  truths:
    - "The dead Zustand store cluster (gameStore, GameProvider, useGame, gameBridge) no longer exists in the codebase"
    - "The Zustand-only type definitions (GamePhase, ShelfSlot, GameActions, GameStore) are removed"
    - "TypeScript build passes with 0 errors after deletion"
    - "The canonical useReducer state in GameScreen.tsx is untouched and game still runs"
  artifacts:
    - path: "src/store/gameStore.ts"
      provides: "DELETED — file must not exist"
    - path: "src/types/game.ts"
      provides: "DELETED — file must not exist"
  key_links:
    - from: "src/App.tsx"
      to: "src/components/GameScreen.tsx"
      via: "direct render — no GameProvider wrapper"
      pattern: "<GameScreen"
---

<objective>
Delete the dormant Zustand state cluster that has no live import path from App.tsx or GameScreen.tsx.

Purpose: The parallel Zustand type system (GamePhase, ShelfSlot, GameStore) creates confusion — it defines a separate GameState interface that conflicts with the canonical one in src/game/types.ts. Removing it eliminates ambiguity for all future phases and prevents Phase 3/4 developers from accidentally importing from the dead cluster.

Output: Seven files deleted; TypeScript build still clean; game still runs identically.
</objective>

<execution_context>
@/Users/martha2022/.claude/get-shit-done/workflows/execute-plan.md
@/Users/martha2022/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@src/App.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify no live imports, then delete the dead Zustand cluster (FIX-04)</name>
  <files>
    src/store/gameStore.ts
    src/store/index.ts
    src/ui/GameProvider.tsx
    src/hooks/useGame.ts
    src/services/gameBridge.ts
    src/types/game.ts
    src/types/index.ts
  </files>
  <action>
**Step 1 — Pre-deletion grep check.** Before deleting anything, grep for imports of the dead cluster to confirm nothing outside the cluster imports them:

```bash
grep -r "from.*src/store" /Users/martha2022/Documents/Sleevo/src --include="*.ts" --include="*.tsx" -l
grep -r "from.*store/gameStore\|from.*store/index\|from.*ui/GameProvider\|from.*hooks/useGame\|from.*services/gameBridge\|from.*types/game" /Users/martha2022/Documents/Sleevo/src --include="*.ts" --include="*.tsx" -l
```

If any file OUTSIDE the dead cluster imports from these paths, read that file before proceeding. If the only importers are files within the dead cluster itself, proceed with deletion.

**Step 2 — Delete all seven files:**

```
src/store/gameStore.ts
src/store/index.ts
src/ui/GameProvider.tsx
src/hooks/useGame.ts
src/services/gameBridge.ts
src/types/game.ts        ← contains Zustand-only types: GamePhase, ShelfSlot, GameActions, GameStore
src/types/index.ts       ← re-exports from types/game.ts
```

Use the Bash tool to delete:
```bash
rm /Users/martha2022/Documents/Sleevo/src/store/gameStore.ts
rm /Users/martha2022/Documents/Sleevo/src/store/index.ts
rm /Users/martha2022/Documents/Sleevo/src/ui/GameProvider.tsx
rm /Users/martha2022/Documents/Sleevo/src/hooks/useGame.ts
rm /Users/martha2022/Documents/Sleevo/src/services/gameBridge.ts
rm /Users/martha2022/Documents/Sleevo/src/types/game.ts
rm /Users/martha2022/Documents/Sleevo/src/types/index.ts
```

Note: `src/ui/ThemeProvider.tsx` may exist in the same directory — do NOT delete it. Only delete the files listed above.

Note: `src/game/types.ts` is the canonical type file for the useReducer system — do NOT delete it.

**Step 3 — If grep found an unexpected importer:** Do not delete that specific file. Instead, create a minimal stub that satisfies the import (e.g., export an empty object) and add a `// QUARANTINED — Zustand dead code` comment. Then complete the other deletions.

**Step 4 — Clean up empty directories if applicable:**
After deletion, if `src/store/` and `src/types/` are empty, remove the directories too:
```bash
rmdir /Users/martha2022/Documents/Sleevo/src/store/ 2>/dev/null || true
rmdir /Users/martha2022/Documents/Sleevo/src/types/ 2>/dev/null || true
```
  </action>
  <verify>
1. `npx tsc --noEmit` from project root — must report 0 errors
2. `npm run build` — must succeed and produce dist/
3. `grep -r "gameStore\|GameProvider\|useGame\|gameBridge\|GamePhase\|GameStore\|GameActions" src/ --include="*.ts" --include="*.tsx"` — must return 0 results (or only comments)
4. `src/App.tsx` still renders `<GameScreen />` directly — no GameProvider wrapper
  </verify>
  <done>All seven dead files deleted; TypeScript build clean; game renders without errors in browser (npm run dev).</done>
</task>

</tasks>

<verification>
After task completion:
1. `npx tsc --noEmit` — 0 errors
2. `npm run build` — clean build
3. `npm run dev` — game loads and vinyl drag-drop still works
4. None of the deleted filenames appear in any remaining .ts/.tsx file as imports
</verification>

<success_criteria>
- FIX-04: Dead Zustand cluster fully removed from codebase
- No TypeScript errors introduced by deletion
- Canonical useReducer state system in GameScreen.tsx remains the only game state authority
- Game remains playable after deletion
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-fixes/01-02-SUMMARY.md`
</output>
