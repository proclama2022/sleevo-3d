---
phase: 01-campaign-structure-star-system-foundation
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - constants/levelConfigs.ts
autonomous: true

must_haves:
  truths:
    - "10 hand-crafted tutorial/foundation levels exist with curated difficulty progression"
    - "Each level has explicit star criteria descriptions visible to players"
    - "Levels 1-3 are tutorial-easy, 4-7 build skills, 8-9 challenge, 10 is boss"
    - "Level configurations include mode, theme, genre selection, and timing"
  artifacts:
    - path: "constants/levelConfigs.ts"
      provides: "10 hand-crafted level definitions with star criteria"
      exports: ["CAMPAIGN_LEVELS", "getCampaignLevel"]
      min_lines: 100
  key_links:
    - from: "constants/levelConfigs.ts"
      to: "types.ts"
      via: "import Genre, LevelMode, ShopTheme"
      pattern: "import.*Genre.*LevelMode"
---

<objective>
Create 10 hand-crafted campaign level configurations with curated difficulty progression and explicit star criteria for each level.

Purpose: Hand-crafted levels are critical for validating the star system and difficulty curve before scaling to 60 levels. Research shows 20% of players abandon at first difficulty spike, so these 10 levels must have a smooth ramp. LEVEL-04 requires starting with 10 levels for playtesting.

Output: `constants/levelConfigs.ts` with 10 level definitions
</objective>

<execution_context>
@/Users/martha2022/.claude/get-shit-done/workflows/execute-plan.md
@/Users/martha2022/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-campaign-structure-star-system-foundation/01-RESEARCH.md

@types.ts
@services/gameLogic.ts
@constants/gameConfig.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Design 10 hand-crafted campaign levels</name>
  <files>constants/levelConfigs.ts</files>
  <action>
Create `constants/levelConfigs.ts` with a `CAMPAIGN_LEVELS` array of 10 level configurations. Each level config is a plain object (not using the procedural generateLevel):

```typescript
export interface CampaignLevelConfig {
  levelNumber: number;        // 1-10
  worldNumber: number;        // Always 1 for these first 10
  name: string;               // Display name (e.g., "First Sort", "Dusty Finds")
  description: string;        // Brief flavor text
  mode: LevelMode;            // Standard, Timed, or Boss for level 10
  theme: ShopTheme;           // Basement for 1-4, Store for 5-9, Expo for 10
  genres: Genre[];             // Which genres appear in crates
  crateCapacities: number[];   // Capacity per crate (matches genres array length)
  trashCount: number;         // Number of trash items
  mysteryCount: number;       // Number of mystery vinyls
  dustyCount: number;         // Number of dusty vinyls
  specialDiscs: SpecialDiscType[]; // Specific specials to include
  moves: number;              // Move limit (999 for timed/boss)
  time: number;               // Time limit in seconds (0 for standard mode)
  starCriteria: {
    twoStar: { description: string; accuracyThreshold: number; timeThreshold?: number };
    threeStar: { description: string; accuracyThreshold: number; minCombo?: number; maxTimeRatio?: number };
  };
}
```

Design these 10 levels following this progression curve:

**Levels 1-3 (Tutorial/Easy):**
- Level 1 "First Sort": 2 crates (Rock, Jazz), capacity 2 each, 0 trash, 0 mystery, 0 dusty, 0 specials. Standard mode. Basement theme. Generous moves (12). Stars: 2★=80% acc, 3★=100% acc.
- Level 2 "Getting Sorted": 2 crates (Rock, Soul), capacity 3 each, 1 trash, 0 mystery, 0 dusty, 0 specials. Standard mode. Basement theme. Stars: 2★=80% acc, 3★=100% acc + 2x combo.
- Level 3 "Triple Threat": 3 crates (Rock, Jazz, Funk), capacity 2 each, 1 trash, 1 mystery, 0 dusty, 0 specials. Standard mode. Basement theme. Stars: 2★=75% acc, 3★=95% acc + 3x combo.

**Levels 4-7 (Skill Building):**
- Level 4 "Mystery Box": 3 crates (Jazz, Soul, Disco), capacity 3 each, 2 trash, 3 mystery, 0 dusty, 0 specials. Standard mode. Basement theme. Stars: 2★=80% acc, 3★=95% acc + 3x combo.
- Level 5 "Dust Off": 3 crates (Rock, Funk, Electronic), capacity 3 each, 2 trash, 1 mystery, 3 dusty, 0 specials. Standard mode. Store theme. Stars: 2★=75% acc, 3★=90% acc + 3x combo.
- Level 6 "Beat the Clock": 3 crates (Jazz, Disco, Punk), capacity 3 each, 2 trash, 2 mystery, 2 dusty, 0 specials. Timed mode. 45 seconds. Store theme. Stars: 2★=70% acc + 25% time remaining, 3★=85% acc + 50% time left.
- Level 7 "Special Delivery": 3 crates (Soul, Funk, Rock), capacity 4 each, 3 trash, 2 mystery, 2 dusty, ['diamond', 'wildcard'] specials. Standard mode. Store theme. Stars: 2★=75% acc, 3★=90% acc + 4x combo.

**Levels 8-9 (Challenge):**
- Level 8 "Vinyl Rush": 4 crates (Rock, Jazz, Funk, Electronic), capacity 3 each, 3 trash, 3 mystery, 3 dusty, ['bomb', 'chain'] specials. Timed mode. 50 seconds. Store theme. Stars: 2★=70% acc, 3★=85% acc + 40% time remaining.
- Level 9 "The Gauntlet": 4 crates (Disco, Punk, Soul, Jazz), capacity 4 each, 4 trash, 4 mystery, 4 dusty, ['diamond', 'time', 'chain'] specials. Standard mode. Store theme. Stars: 2★=75% acc, 3★=90% acc + 5x combo.

**Level 10 (Boss):**
- Level 10 "The Big Sort": 4 crates (Rock, Jazz, Soul, Funk), capacity 5 each, 4 trash, 4 mystery, 4 dusty, ['diamond', 'wildcard', 'bomb'] specials. Boss mode. 40 seconds. Expo theme. Stars: 2★=70% acc, 3★=90% acc + 60% time remaining.

Also export `getCampaignLevel(levelNumber: number): CampaignLevelConfig | null` that returns the config for levels 1-10, null for others (future levels will be added in Phase 2).

Important: These configs are DATA ONLY — they describe what the level should contain. The actual Vinyl[] and Crate[] generation from these configs will be handled in Plan 03's integration task. This file is pure configuration.
  </action>
  <verify>
Run `npx tsc --noEmit` to verify the file compiles. Check that:
- `CAMPAIGN_LEVELS` has exactly 10 entries
- `getCampaignLevel(1)` returns level 1 config
- `getCampaignLevel(11)` returns null
- All Genre references are valid enum values
- Level 10 has mode 'Boss'
- Difficulty progression is smooth (crate count, trash, mysteries increase gradually)
  </verify>
  <done>10 hand-crafted campaign levels exist with curated difficulty curve: 3 tutorial levels, 4 skill-building levels, 2 challenge levels, 1 boss level. Each has explicit star criteria descriptions for player display.</done>
</task>

</tasks>

<verification>
- `npx tsc --noEmit` passes
- `constants/levelConfigs.ts` exports CAMPAIGN_LEVELS (10 entries) and getCampaignLevel function
- Difficulty progression verified: genres increase 2→2→3→3→3→3→3→4→4→4, trash increases 0→1→1→2→2→2→3→3→4→4
- Each level has human-readable star criteria descriptions
- Level 10 is Boss mode with Expo theme
</verification>

<success_criteria>
- 10 levels with smooth difficulty progression (no sudden spikes)
- Each level has unique name, description, and explicit star criteria
- Mode variety: 7 Standard, 2 Timed, 1 Boss
- Theme progression: Basement (1-4), Store (5-9), Expo (10)
- All configs are pure data (no game logic, no React)
</success_criteria>

<output>
After completion, create `.planning/phases/01-campaign-structure-star-system-foundation/01-02-SUMMARY.md`
</output>
