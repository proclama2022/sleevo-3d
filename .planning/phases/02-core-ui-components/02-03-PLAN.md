---
phase: 02-core-ui-components
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/HUD/HUD.tsx
autonomous: true
requirements:
  - COMP-04
  - A11Y-01

must_haves:
  truths:
    - "User sees transparent HUD bar at top of screen"
    - "User sees circular progress gauge centered in HUD"
    - "User sees Score, Timer, and Moves count (no Level name)"
    - "User sees balanced layout with gauge as focal point"
    - "User can read all values clearly"
  artifacts:
    - path: "src/components/HUD/HUD.tsx"
      provides: "Game status display with vintage styling"
      exports: ["HUD", "HUDProps"]
      min_lines: 180
  key_links:
    - from: "src/components/HUD/HUD.tsx"
      to: "src/components/ProgressBar/ProgressBar.tsx"
      via: "import ProgressBar"
      pattern: "import.*ProgressBar"
    - from: "src/components/HUD/HUD.tsx"
      to: "src/design-tokens/theme.ts"
      via: "props.theme access"
      pattern: "props\\.theme\\.(colors|typography|spacing|breakpoints)"
---

<objective>
Update HUD component to match locked user decisions: remove level name display, center circular progress gauge, make bar transparent, display only Score/Timer/Moves in balanced layout.

Purpose: Current HUD shows levelName which user explicitly removed from requirements. Gauge should be centered focal point, bar should be transparent.
Output: Updated HUD matching all locked visual decisions.
</objective>

<execution_context>
@/Users/martha2022/.claude/get-shit-done/workflows/execute-plan.md
@/Users/martha2022/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-ui-components/02-CONTEXT.md
@.planning/phases/02-core-ui-components/02-RESEARCH.md

# Existing implementation to update
@src/components/HUD/HUD.tsx

# ProgressBar dependency
@src/components/ProgressBar/ProgressBar.tsx

# Design tokens from Phase 1
@src/design-tokens/theme.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove level name and restructure HUD layout</name>
  <files>src/components/HUD/HUD.tsx</files>
  <action>
Remove level name display and restructure HUD for centered gauge with balanced elements:

1. **Remove Level Name:**
   - Remove `levelName` from HUDProps interface
   - Remove LevelSection styled component
   - Remove LevelName styled component
   - Remove levelName from component render

2. **New Layout Structure:**
   - Three sections: Left (Score), Center (Progress Gauge), Right (Timer + Moves)
   - Use CSS Grid or Flexbox with space-between for balanced layout
   - Progress gauge must be visually centered as focal point

3. **Updated Structure:**
```tsx
const HUDWrapper = styled.header`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  display: grid;
  grid-template-columns: 1fr auto 1fr; // Left, Center, Right
  align-items: center;
  padding: ${(props) => props.theme.spacing.md} ${(props) => props.theme.spacing.lg};
  background: rgba(0, 0, 0, 0.4); // Semi-transparent
  backdrop-filter: blur(4px); // Subtle blur for depth
  z-index: 100;
`;

// Left section: Score
const LeftSection = styled.div`
  display: flex;
  justify-content: flex-start;
`;

// Center section: Progress Gauge
const CenterSection = styled.div`
  display: flex;
  justify-content: center;
`;

// Right section: Timer + Moves
const RightSection = styled.div`
  display: flex;
  justify-content: flex-end;
  gap: ${(props) => props.theme.spacing.lg};
`;
```

4. **Preserve:**
   - AnimatedScore component with score pop animation
   - TimerValue with low-time warning (red + pulse)
   - StatItem structure for Timer and Moves
   - All ARIA attributes
   - Responsive breakpoints
</action>
  <verify>
npm run build should complete without errors
grep -c "levelName" src/components/HUD/HUD.tsx should return 0
grep -c "LevelName" src/components/HUD/HUD.tsx should return 0
</verify>
  <done>
HUD no longer displays level name, has three-column layout with centered gauge
</done>
</task>

<task type="auto">
  <name>Task 2: Update HUD to transparent bar style</name>
  <files>src/components/HUD/HUD.tsx</files>
  <action>
Update HUD background to transparent/semi-transparent style:

1. **Transparent Bar Style:**
   - Replace gradient background with semi-transparent solid color
   - Add subtle backdrop blur for modern glass effect
   - Game content should show through behind the HUD

2. **Implementation:**
```tsx
const HUDWrapper = styled.header`
  // ... existing styles
  background: rgba(15, 10, 8, 0.6); // Dark semi-transparent
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px); // Safari support
  border-bottom: 1px solid rgba(255, 255, 255, 0.05);
`;
```

3. **Visual Balance:**
   - Ensure text remains readable against any game background
   - Add subtle text-shadow if needed for contrast
   - Stats should have consistent visual weight on both sides

4. **Responsive:**
   - Maintain compact breakpoint adjustments
   - Reduce padding and gap on small screens
</action>
  <verify>
npm run build should complete without errors
grep -c "backdrop-filter" src/components/HUD/HUD.tsx should return >= 1
grep -c "rgba" src/components/HUD/HUD.tsx should return >= 1
</verify>
  <done>
HUD has transparent/semi-transparent background with backdrop blur, game shows through
</done>
</task>

<task type="auto">
  <name>Task 3: Verify ProgressBar integration and touch targets</name>
  <files>src/components/HUD/HUD.tsx</files>
  <action>
Verify ProgressBar integration and ensure touch targets are met:

1. **ProgressBar Usage:**
   - ProgressBar should be in center section
   - Pass appropriate size (suggest 56-64px for HUD context)
   - Ensure progress prop is correctly passed

2. **Current ProgressBar Issue:**
   - HUD currently calls `<ProgressBar total={100} placed={Math.round(progress)} />`
   - But ProgressBar props are: `progress`, `size`, `strokeWidth`, `label`, `showPercentage`
   - Fix the prop names to match ProgressBar interface:
```tsx
<ProgressBar
  progress={progress}
  size={56}
  showPercentage={false}
/>
```

3. **Touch Targets:**
   - HUD itself doesn't need 44x44px (it's display-only)
   - If any interactive elements are added later, they need touch targets
   - Current StatItems are display-only, no changes needed

4. **Accessibility:**
   - Ensure role="banner" is maintained
   - Ensure aria-label="Game status" is maintained
   - ProgressBar already has its own ARIA attributes
</action>
  <verify>
npm run build should complete without errors
Component should render without prop type errors
</verify>
  <done>
HUD correctly integrates ProgressBar with proper props, maintains accessibility attributes
</done>
</task>

</tasks>

<verification>
1. HUD component exists at src/components/HUD/HUD.tsx
2. Level name is NOT displayed (removed from props and render)
3. Circular progress gauge is centered
4. Three elements displayed: Score, Timer, Moves
5. Bar is transparent/semi-transparent with backdrop blur
6. ProgressBar integration uses correct props
7. Build completes without errors
</verification>

<success_criteria>
- HUD displays at top of screen, full width
- Background is semi-transparent (game shows through)
- Circular progress gauge is centered as focal point
- Score displayed on left
- Timer and Moves displayed on right
- No level name displayed
- Layout is balanced around centered gauge
- Build passes
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-ui-components/02-03-SUMMARY.md`
</output>
