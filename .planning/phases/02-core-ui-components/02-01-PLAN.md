---
phase: 02-core-ui-components
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/VinylCard/VinylCard.tsx
autonomous: true
requirements:
  - COMP-01
  - A11Y-01

must_haves:
  truths:
    - "User sees vinyl record with sleeve offset (not just square card)"
    - "User sees genre/year/title overlaid on art area (not below)"
    - "User sees 100px card size (balanced for mobile)"
    - "User sees clear visual state feedback (idle, dragging, placed)"
    - "User can tap card with thumb (44x44px minimum)"
  artifacts:
    - path: "src/components/VinylCard/VinylCard.tsx"
      provides: "Draggable vinyl card with vintage styling"
      exports: ["VinylCard", "VinylCardProps"]
      min_lines: 150
  key_links:
    - from: "src/components/VinylCard/VinylCard.tsx"
      to: "src/design-tokens/theme.ts"
      via: "props.theme access"
      pattern: "props\\.theme\\.(colors|typography|spacing)"
---

<objective>
Update VinylCard component to match locked user decisions: vinyl+sleeve shape with offset, text overlay on art (not below), standard 100px size, while maintaining 44x44px touch targets and three visual states.

Purpose: The current VinylCard doesn't match the user's locked design decisions. User explicitly decided on vinyl+sleeve shape, text overlay on art, and 100px size.
Output: Updated VinylCard component matching all locked visual decisions.
</objective>

<execution_context>
@/Users/martha2022/.claude/get-shit-done/workflows/execute-plan.md
@/Users/martha2022/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-ui-components/02-CONTEXT.md
@.planning/phases/02-core-ui-components/02-RESEARCH.md

# Existing implementation to update
@src/components/VinylCard/VinylCard.tsx

# Design tokens from Phase 1
@src/design-tokens/theme.ts
@src/design-tokens/tokens.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update VinylCard visual structure to vinyl+sleeve shape</name>
  <files>src/components/VinylCard/VinylCard.tsx</files>
  <action>
Refactor VinylCard to implement the vinyl+sleeve visual treatment per locked decisions:

1. **Vinyl+Sleeve Shape:**
   - Create a container that shows a slightly offset vinyl disc appearing to peek out from a sleeve
   - The sleeve should be the outer container (100px width as per locked decision)
   - The vinyl disc should be visible at a slight offset (suggests record partially pulled from sleeve)
   - Use CSS transforms or absolute positioning for the offset effect

2. **Text Overlay on Art:**
   - Remove the separate InfoSection below the art
   - Overlay genre/year/title directly on the bottom portion of the art area
   - Use semi-transparent dark gradient at bottom of art for text readability
   - Text should be compact (genre badge, year, truncated title)

3. **Standard 100px Size:**
   - Card width should be 100px (locked decision)
   - Height should maintain aspect ratio (approximately 100-120px)
   - Ensure the vinyl disc is visually prominent (50/50 art+info balance per locked decision)

4. **Preserve Existing Features:**
   - Keep the three states: idle, dragging, placed
   - Keep color-coded state borders (idle: theme border, dragging: accent, placed: green/red)
   - Keep 44x44px minimum touch target on container
   - Keep animations import and reducedMotion support
   - Keep PlacedIndicator for placed state feedback
   - Keep ARIA attributes for accessibility

5. **Updated Structure:**
```tsx
// Conceptual structure:
<CardContainer> // 44x44 min touch target
  <SleeveWrapper> // 100px, contains the "sleeve" look
    <VinylDisc /> // Slightly offset, shows record peeking out
    <ArtOverlay> // Gradient + text overlaid on art
      <GenreBadge />
      <Year />
      <Title />
    </ArtOverlay>
  </SleeveWrapper>
  <PlacedIndicator /> // When placed
</CardContainer>
```

Do NOT change:
- Animation imports or timing constants
- The three state system
- ARIA labels and accessibility attributes
- The onDragStart/onDragEnd event handlers
</action>
  <verify>
npm run build should complete without errors
grep -c "100px" src/components/VinylCard/VinylCard.tsx should return >= 1
grep -c "44px" src/components/VinylCard/VinylCard.tsx should return >= 1
</verify>
  <done>
VinylCard displays vinyl disc offset from sleeve, text overlaid on art (not below), card is 100px wide, touch target is 44x44px minimum, all three states render correctly
</done>
</task>

<task type="auto">
  <name>Task 2: Verify VinylCard state styling and accessibility</name>
  <files>src/components/VinylCard/VinylCard.tsx</files>
  <action>
Verify and update state styling to ensure clear visual distinction:

1. **Idle State:**
   - Scale: 1 (no transform)
   - Border: theme.colors.background.primary (subtle)
   - Shadow: subtle (2px 8px rgba(0,0,0,0.1))
   - z-index: normal flow

2. **Dragging State:**
   - Scale: 1.05 (slightly larger)
   - Border: theme.colors.accent.primary (highlighted)
   - Shadow: deep (8px 24px rgba(0,0,0,0.3))
   - z-index: elevated (100)
   - Cursor: grabbing
   - Slight rotation for tactile feel (2-3 degrees)

3. **Placed State:**
   - Scale: 1 (normal)
   - Border: green (#4ade80) if valid, red (#ef4444) if invalid
   - Shadow: flattened (minimal)
   - z-index: lower (5)
   - Locked appearance (no cursor change, not draggable)

4. **Accessibility:**
   - Ensure min-width: 44px and min-height: 44px on outer container
   - Keep aria-label with full vinyl description
   - Keep aria-grabbed state for drag status
   - Keep role="button" for keyboard interaction potential

5. **Reduced Motion:**
   - Ensure ${reducedMotion} mixin is applied to animated elements
   - Transitions should be instant when prefers-reduced-motion is set
</action>
  <verify>
npm run build should complete without errors
Component should render without console errors
</verify>
  <done>
VinylCard has visually distinct idle/dragging/placed states, meets 44x44px touch target, respects reduced motion preferences
</done>
</task>

</tasks>

<verification>
1. VinylCard component exists at src/components/VinylCard/VinylCard.tsx
2. Card width is 100px (locked decision)
3. Vinyl+sleeve offset visual is implemented (not just square)
4. Text overlay on art (not separate section below)
5. Three states are visually distinct (color-coded borders, shadows, scale)
6. 44x44px minimum touch target maintained
7. Build completes without errors
</verification>

<success_criteria>
- VinylCard displays vinyl record peeking from sleeve with offset
- Genre/year/title overlaid on bottom of art area
- Card is 100px wide
- Three states (idle, dragging, placed) have clear visual distinction via color/border/shadow
- Touch target meets 44x44px minimum (WCAG 2.5.5)
- Build passes
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-ui-components/02-01-SUMMARY.md`
</output>
