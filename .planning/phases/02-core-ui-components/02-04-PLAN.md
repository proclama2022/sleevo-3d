---
phase: 02-core-ui-components
plan: 04
type: execute
wave: 2
depends_on:
  - 02-01
  - 02-02
  - 02-03
files_modified:
  - src/components/VinylCard/VinylCard.tsx
  - src/components/ShelfSlot/ShelfSlot.tsx
  - src/components/HUD/HUD.tsx
  - src/components/ProgressBar/ProgressBar.tsx
autonomous: true
requirements:
  - A11Y-01

must_haves:
  truths:
    - "User can tap any interactive element with thumb (44x44px minimum)"
    - "User sees shape + color feedback (color blind friendly)"
    - "User with reduced motion preference sees instant transitions"
    - "All components render without errors"
  artifacts:
    - path: "src/components/VinylCard/VinylCard.tsx"
      provides: "Touch target validation"
      contains: "min-width.*44"
    - path: "src/components/ShelfSlot/ShelfSlot.tsx"
      provides: "Touch target validation"
      contains: "width.*140|height.*180"
    - path: "src/components/ProgressBar/ProgressBar.tsx"
      provides: "Accessible progress indicator"
      contains: "role.*progressbar"
  key_links:
    - from: "All components"
      to: "CSS min-width/min-height"
      via: "styled-components"
      pattern: "min-(width|height).*44"
---

<objective>
Verify all core UI components meet accessibility requirements: 44x44px minimum touch targets (WCAG 2.5.5), shape+color feedback for color blindness, reduced motion support, and proper ARIA attributes.

Purpose: Final validation that all components meet A11Y-01 requirements before user verification.
Output: All components verified accessible, any issues fixed.
</objective>

<execution_context>
@/Users/martha2022/.claude/get-shit-done/workflows/execute-plan.md
@/Users/martha2022/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-ui-components/02-CONTEXT.md
@.planning/phases/02-core-ui-components/02-RESEARCH.md

# Components to verify
@src/components/VinylCard/VinylCard.tsx
@src/components/ShelfSlot/ShelfSlot.tsx
@src/components/HUD/HUD.tsx
@src/components/ProgressBar/ProgressBar.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify touch target compliance across all components</name>
  <files>
  - src/components/VinylCard/VinylCard.tsx
  - src/components/ShelfSlot/ShelfSlot.tsx
  </files>
  <action>
Verify and fix touch target compliance for all interactive elements:

1. **VinylCard:**
   - CardContainer should have min-width: 44px and min-height: 44px
   - If visual card is smaller, use invisible padding to expand hit area
   - Verify draggable area covers full touch target

2. **ShelfSlot:**
   - SlotWrapper is 140x180px (well above minimum)
   - Verify drop zone covers full area
   - Any internal interactive elements (if added) need own touch targets

3. **HUD:**
   - HUD itself is display-only, no touch targets needed
   - If any buttons added later, need 44x44px

4. **ProgressBar:**
   - Display-only in current implementation
   - Size prop controls visual size (default 64px)
   - No touch targets needed

5. **Fix Any Issues:**
   - Add min-width/min-height to any interactive containers missing them
   - Use invisible padding technique if visual is smaller than 44px:
```css
.touch-target {
  min-width: 44px;
  min-height: 44px;
  display: flex;
  align-items: center;
  justify-content: center;
}
```
</action>
  <verify>
npm run build should complete without errors
# Verify VinylCard has 44px minimum
grep -E "min-(width|height).*44" src/components/VinylCard/VinylCard.tsx should return matches
</verify>
  <done>
All interactive components meet 44x44px minimum touch target per WCAG 2.5.5
</done>
</task>

<task type="auto">
  <name>Task 2: Verify shape + color feedback for color blindness</name>
  <files>
  - src/components/VinylCard/VinylCard.tsx
  - src/components/ShelfSlot/ShelfSlot.tsx
  </files>
  <action>
Verify all status feedback uses both shape AND color (WCAG 1.4.1):

1. **VinylCard PlacedIndicator:**
   - Currently uses green/red background AND check/X symbol
   - Verify this is preserved: green with checkmark, red with X

2. **ShelfSlot FeedbackIcon:**
   - Currently uses green/red background AND check/X symbol
   - Verify this is preserved

3. **ShelfSlot GlowRing:**
   - Uses color only for glow (green/red)
   - The FeedbackIcon already provides shape redundancy
   - No change needed

4. **Color Values:**
   - Valid: #4ade80 (green) with checkmark
   - Invalid: #ef4444 (red) with X mark
   - These are already implemented correctly

5. **If Any Missing:**
   - Add icons or text to any color-only feedback
   - Ensure icons are visible and high contrast
</action>
  <verify>
npm run build should complete without errors
# Verify both components have check/X symbols
grep -c "✓" src/components/VinylCard/VinylCard.tsx src/components/ShelfSlot/ShelfSlot.tsx
grep -c "✕" src/components/VinylCard/VinylCard.tsx src/components/ShelfSlot/ShelfSlot.tsx
</verify>
  <done>
All status indicators use both shape (icon) and color for color blind accessibility
</done>
</task>

<task type="auto">
  <name>Task 3: Verify reduced motion support</name>
  <files>
  - src/components/VinylCard/VinylCard.tsx
  - src/components/ShelfSlot/ShelfSlot.tsx
  - src/components/HUD/HUD.tsx
  - src/components/ProgressBar/ProgressBar.tsx
  </files>
  <action>
Verify all components respect prefers-reduced-motion:

1. **Pattern to Check:**
   - All components should import and use ${reducedMotion} mixin
   - Or use @media (prefers-reduced-motion: reduce) directly

2. **Expected Behavior:**
   - VinylCard: No transform animations, instant transitions
   - ShelfSlot: No pulse animations, instant transitions
   - HUD: No score pop animation, instant transitions
   - ProgressBar: No stroke-dashoffset transition

3. **Verify in Each File:**
   - Check for reducedMotion import or @media query
   - Ensure animations are disabled in reduce mode

4. **Fix Any Missing:**
   - Add reducedMotion mixin to animated components
   - Or add:
```css
@media (prefers-reduced-motion: reduce) {
  animation: none;
  transition: none;
}
```
</action>
  <verify>
npm run build should complete without errors
# Check for reduced motion support in all components
grep -l "prefers-reduced-motion\\|reducedMotion" src/components/VinylCard/VinylCard.tsx src/components/ShelfSlot/ShelfSlot.tsx src/components/HUD/HUD.tsx src/components/ProgressBar/ProgressBar.tsx
</verify>
  <done>
All components respect prefers-reduced-motion system preference
</done>
</task>

<task type="auto">
  <name>Task 4: Final build verification and component exports</name>
  <files>
  - src/components/VinylCard/index.ts
  - src/components/ShelfSlot/index.ts
  - src/components/HUD/index.ts
  - src/components/ProgressBar/index.ts
  </files>
  <action>
Verify all components have proper index.ts exports and build succeeds:

1. **Check Index Files:**
   - Each component folder should have index.ts
   - Should export main component and props interface

2. **Expected Exports:**
   - VinylCard: export { VinylCard, VinylCardProps }
   - ShelfSlot: export { ShelfSlot, ShelfSlotProps }
   - HUD: export { HUD, HUDProps }
   - ProgressBar: export { ProgressBar, ProgressBarProps }

3. **Create Missing Index Files:**
   If any index.ts is missing, create it:
```typescript
export { VinylCard, VinylCardProps } from './VinylCard';
export { default } from './VinylCard';
```

4. **Build Verification:**
   - Run npm run build
   - Verify no TypeScript errors
   - Verify no import errors
</action>
  <verify>
npm run build should complete without errors
ls src/components/VinylCard/index.ts src/components/ShelfSlot/index.ts src/components/HUD/index.ts src/components/ProgressBar/index.ts
</verify>
  <done>
All components have proper exports, build succeeds with no errors
</done>
</task>

</tasks>

<verification>
1. All interactive components have 44x44px minimum touch targets
2. All status feedback uses shape + color (not color alone)
3. All animations respect prefers-reduced-motion
4. All components have proper index.ts exports
5. npm run build succeeds with no errors
6. No TypeScript errors
7. No console errors when components render
</verification>

<success_criteria>
- VinylCard and ShelfSlot meet 44x44px minimum touch targets
- Status indicators (valid/invalid) use both icons AND colors
- All components respect reduced motion preference
- All components export correctly
- Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-ui-components/02-04-SUMMARY.md`
</output>
